# ATAuth Gateway Configuration
# Copy this file to .env and customize for your deployment

# =============================================================================
# SECURITY NOTICE
# =============================================================================
# 1. NEVER commit your .env file to version control
# 2. Generate all tokens with: openssl rand -hex 32
# 3. Use HTTPS in production (configure via reverse proxy)
# 4. Restrict CORS_ORIGINS to your actual domains
# =============================================================================

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Admin API token for registering applications
# SECURITY: Generate a unique 64-character hex token:
#   openssl rand -hex 32
# DO NOT use the placeholder value in production!
ADMIN_TOKEN=

# Your gateway's public URL (where users will be redirected)
# This must be accessible from the internet for OAuth to work
OAUTH_CLIENT_ID=https://auth.yourdomain.com/client-metadata.json
OAUTH_REDIRECT_URI=https://auth.yourdomain.com/auth/callback

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# Allowed CORS origins (comma-separated)
# SECURITY: List ONLY your actual application domains
# DO NOT use wildcards (*) in production
# Example: CORS_ORIGINS=https://myapp.com,https://admin.myapp.com
CORS_ORIGINS=

# =============================================================================
# SELF-HOSTED PDS CONFIGURATION
# =============================================================================
# If you run your own PDS, your users authenticate with handles like:
#   @alice.your-pds.com
#   @bob.your-pds.com
#
# The gateway automatically discovers the user's PDS from their handle.
# No additional configuration needed - just ensure your PDS is accessible.
#
# Benefits of self-hosted PDS:
#   - Full control over your identity infrastructure
#   - No dependency on Bluesky's servers
#   - Works on air-gapped networks (if PDS is local)
#   - Your data stays on your infrastructure
# =============================================================================
